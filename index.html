<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fahd-Amit 1:1</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Fahd-Amit 1:1</h1>
        </header>

        <div class="tabs">
            <button class="tab-btn active" data-tab="tasks">Week <span id="weekNumber"></span> <span id="weekDate" class="week-date"></span></button>
            <button class="tab-btn" data-tab="initiatives">Initiatives</button>
            <button class="tab-btn" data-tab="archives">Archives</button>
        </div>

        <div id="tasksTab" class="tab-content active">
            <div class="tab-header">
                <button id="addTaskBtn" class="btn btn-primary">+ Add Task</button>
            </div>
            <div id="tasksContainer">
                <!-- Tasks will be dynamically added here -->
            </div>
        </div>

        <div id="initiativesTab" class="tab-content">
            <div class="tab-header">
                <button id="addInitiativeBtn" class="btn btn-primary">+ Add Initiative</button>
            </div>
            <div id="initiativesContainer">
                <!-- Initiatives will be dynamically added here -->
            </div>
        </div>

        <div id="archivesTab" class="tab-content">
            <div class="tab-header">
                <select id="weekSelector" class="week-selector">
                    <option value="">Select a week...</option>
                </select>
            </div>
            <div id="archivesContainer">
                <div class="empty-state"><h3>Select a week to view archived tasks</h3></div>
            </div>
        </div>
    </div>

    <!-- Task Modal -->
    <div id="taskModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="taskModalTitle">Add Task</h2>
            <input type="text" id="taskName" placeholder="Task name" required>
            <button id="saveTask" class="btn btn-primary">Save</button>
        </div>
    </div>

    <!-- Initiative Modal -->
    <div id="initiativeModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="initiativeModalTitle">Add Initiative</h2>
            <input type="text" id="initiativeName" placeholder="Initiative name" required>
            <button id="saveInitiative" class="btn btn-primary">Save</button>
        </div>
    </div>

    <!-- Task Detail Modal -->
    <div id="taskDetailModal" class="modal">
        <div class="modal-content large resizable">
            <span class="close">&times;</span>
            <button class="fullscreen-btn" onclick="taskManager.toggleFullscreen('taskDetailModal')" title="Fullscreen">‚õ∂</button>
            <div class="task-detail-header">
                <h2 id="taskDetailTitle"></h2>
                <select id="taskStatus" class="status-select">
                    <option value="not-started">Not Started</option>
                    <option value="active">Active</option>
                    <option value="complete">Complete</option>
                </select>
            </div>
            <div class="editor-toolbar">
                <button type="button" class="toolbar-btn" onclick="document.execCommand('bold')"><b>B</b></button>
                <button type="button" class="toolbar-btn" onclick="document.execCommand('italic')"><i>I</i></button>
                <button type="button" class="toolbar-btn" onclick="document.execCommand('underline')"><u>U</u></button>
                <button type="button" class="toolbar-btn" onclick="taskManager.insertTaskTable()">Table</button>
                <button type="button" class="toolbar-btn" onclick="document.getElementById('fileInput').click()">+ File</button>
            </div>
            <div class="task-detail-content">
                <div id="taskEditor" contenteditable="true" class="rich-editor" placeholder="Add notes..."></div>
                <input type="file" id="fileInput" multiple style="display: none;">
                <div class="file-section">
                    <h3>Files</h3>
                    <div id="filesList"></div>
                </div>
            </div>
            <div class="modal-actions">
                <button id="saveTaskDetail" class="btn btn-primary">Save</button>
            </div>
        </div>
    </div>

    <!-- Initiative Detail Modal -->
    <div id="initiativeDetailModal" class="modal">
        <div class="modal-content large resizable">
            <span class="close">&times;</span>
            <button class="fullscreen-btn" onclick="taskManager.toggleFullscreen('initiativeDetailModal')" title="Fullscreen">‚õ∂</button>
            <div class="initiative-detail-header">
                <h2 id="initiativeDetailTitle"></h2>
                <select id="initiativeStatus" class="status-select">
                    <option value="red">üî¥ Red</option>
                    <option value="yellow">üü° Yellow</option>
                    <option value="green">üü¢ Green</option>
                </select>
            </div>
            <div class="editor-toolbar">
                <button type="button" class="toolbar-btn" onclick="document.execCommand('bold')"><b>B</b></button>
                <button type="button" class="toolbar-btn" onclick="document.execCommand('italic')"><i>I</i></button>
                <button type="button" class="toolbar-btn" onclick="document.execCommand('underline')"><u>U</u></button>
                <button type="button" class="toolbar-btn" onclick="taskManager.insertTable()">Table</button>
                <button type="button" class="toolbar-btn" onclick="document.getElementById('initiativeFileInput').click()">+ File</button>
            </div>
            <div class="initiative-detail-content">
                <div id="initiativeEditor" contenteditable="true" class="rich-editor" placeholder="Add content..."></div>
                <input type="file" id="initiativeFileInput" multiple style="display: none;">
                <div class="file-section">
                    <h3>Files</h3>
                    <div id="initiativeFilesList"></div>
                </div>
            </div>
            <div class="modal-actions">
                <button id="saveInitiativeDetail" class="btn btn-primary">Save</button>
            </div>
        </div>
    </div>

    <!-- File Preview Modal -->
    <div id="filePreviewModal" class="modal">
        <div class="modal-content large">
            <span class="close">&times;</span>
            <button class="fullscreen-btn" onclick="window.taskManager.toggleFullscreen('filePreviewModal')" title="Fullscreen">‚õ∂</button>
            <div class="file-preview-header">
                <h2 id="previewFileName"></h2>
                <button id="downloadPreviewFile" class="btn btn-secondary">Download</button>
            </div>
            <div class="file-preview-content">
                <div id="filePreviewContainer"></div>
            </div>
        </div>
    </div>

    <!-- Context Menu -->
    <div id="contextMenu" class="context-menu">
        <div class="context-menu-item" id="deleteItem">
            <span class="context-icon">üóëÔ∏è</span>
            Delete
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>